var $jpb={currentTasks:{},nextId:1,createProgressBar:function(e,t){var n=new this.ProgressBar;var r=n.setup(e,t);delete n.setup;return{elem:r,pb:n}},animate:function(e,t,n,r){var s=25;if(!parseFloat(e.style[t])){e.style[t]=0}var o=(parseFloat(n)-parseFloat(e.style[t]))/(r/s);var u="";for(i in n){if(!parseInt(n[i])&&parseInt(n[i])!=0){u+=n[i]}}var a=parseFloat(e.style[t]);var f=this.nextId;this.nextId+=1;var l=this.currentTasks;for(i in l){if(l[i]==e){l[i]=null}}this.currentTasks[f]=e;var c=setInterval(function(){if($i.currentTasks[f]==null){clearInterval(c);return}var r=parseFloat(a)+o;a=r+u;e.style[t]=a;if(parseInt(a)>=parseInt(n)){a=n+u;e.style[t]=a;$i.currentTasks[f]=null;clearInterval(c)}},s)},ProgressBar:function(){this.animating=false;this.animationStatus=false;this.loaded=0;this.element=null;this.deleted=false;this.setup=function(e,t){var n=document.createElement("div");n.className="jprogressBarHolder";n.style.width=t+"px";var r=document.createElement("div");r.className="jprogressAnimationHolder";n.appendChild(r);var i=document.createElement("div");i.className="jprogressGradient";n.appendChild(i);this.element=n;var s='<div class="jloadingArrow1" style="left:-16px;"></div><div class="jloadingArrow2 jloadingbg1" style="left:16px;"></div><div class="jloadingArrow1 jloadingbg2" style="left:0px;"></div>';var o=this.element.childNodes[0];o.innerHTML="";var u=t/32+5;ph=document.createElement("div");ph.style.position="relative";ph.style.width=(u-1)*32+"px";for(var a=0;a<u;a++){var f=document.createElement("div");f.style.position="absolute";f.style.left=32*a+"px";ph.appendChild(f);f.innerHTML=s}o.appendChild(ph);if(e=="static"){this.loaded=100;o.style.width="100%"}else{this.loaded=0}return n};this.showProgressBar=function(){this.element.show();return this};this.hide=function(){this.element.hide();return this};var e=function(t){if(t.animationStatus==false)return;var n=0;if(t.deleted==true){t.stopAnimation();return}var r=setInterval(function(){try{if(n<32){t.element.childNodes[0].childNodes[0].style.marginLeft=-n+"px";n+=1}else{clearInterval(r);e(t)}}catch(i){clearInterval(r);t.remove()}},30)};this.startAnimation=function(){this.animationStatus=true;if(this.animating==true){return}this.animating=true;this.percentage();e(this);return this};this.stopAnimation=function(){this.animationStatus=false;var e=this;setTimeout(function(){e.animating=false},1e3);return this};this.percentage=function(e){e>100&&(e=100);e<0&&(e=0);this.loaded=e;var t=this.element.childNodes[0];t.style.width=this.loaded+"%";return this};this.remove=function(){this.deleted=true;delete this}}}